var Live=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),i=function(){function e(t){var n=this;void 0===t&&(t={}),this.config=Object.assign({},e.DEFAULT_CONFIG,t),this.domReady=e.waitForDom(),this.domReady.then(function(){n.$runner=document.getElementsByTagName("head")[0]||document.body,n.$defContainer=n.createElement(n.config.defaultContainer),n.$body=document.body,n.$display=n.createDisplay()})}return e.waitForDom=function(){return new Promise(function(e){document.addEventListener("DOMContentLoaded",function(){return e()})})},e.isElementAttached=function(e){return!!e.parentElement},e.appendIfApply=function(t,n,r){t&&n&&"apply"===t.toLowerCase()&&!e.isElementAttached(n)&&r&&r.appendChild(n)},e.prototype.createElement=function(e,t,n){void 0===t&&(t={});for(var r=document.createElement(e),i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];r[a]=t[a]}return n&&n.appendChild(r),r},e.prototype.createDisplay=function(){return this.createElement("pre",{className:this.config.displayClass},document.body)},e.prototype.createStyle=function(e){return void 0===e&&(e="text/css"),this.createElement("style",{type:e})},e.prototype.createScript=function(e){return void 0===e&&(e="text/javascript"),this.createElement("script",{type:e})},e.prototype.writeToAndScrollDisplay=function(e){this.$display.textContent+=e,this.$display.scrollTop=this.$display.scrollHeight},e.prototype.run=function(t){var n=this;return void 0===t&&(t=""),this.domReady.then(function(){var i,o,a,c,s=t.trim().split("\n");return r.asyncForOf(function(t){var s,l=Promise.resolve(),u=t.split(""),p=t.match(e.DIR_RE);return s=p?r.asyncForOf(function(e){return n.writeToAndScrollDisplay(e),l},u,n.config.typingSpeed).then(function(){n.$display.textContent+="\n";var t=p[1].split(":"),r=t[0],s=t.slice(1);switch(r.toLowerCase()){case"css":c=null,o=null,a="",i=n.createStyle(),e.appendIfApply(s[0],i,n.$runner);break;case"js":i=null,o=null,a="",c=n.createScript();break;case"html":if(c=null,i=null,a="",s[0]){var u=s[0],d=s[1];"apply"===u.toLowerCase()&&(C=[d||"",u],u=C[0],d=C[1]);var f=u.match(e.SEL_RE);if(u&&f){if(o=document.querySelector(u),!o){var y=[f[1]||"div",f[3],f[4]],m=y[0],h=y[1],v=y[2];if(o=n.createElement(m),h&&v)switch(h){case".":o.className=v;break;case"#":o.id=v}e.appendIfApply(d,o,n.$body)}}else o=n.$defContainer,e.appendIfApply(d,o,n.$body)}o=o||n.$defContainer,a=o.innerHTML;break;case"apply":i&&!e.isElementAttached(i)?(n.$runner.appendChild(i),i=n.createStyle()):o&&!e.isElementAttached(o)?n.$body.appendChild(o):c&&!e.isElementAttached(c)&&(n.$runner.appendChild(c),c=n.createScript());break;case"promise":window[s[0]]instanceof Promise&&(l=window[s[0]])}return l;var C}):r.asyncForOf(function(e){return n.writeToAndScrollDisplay(e),i?i.textContent+=e:o?(a+=e,o.innerHTML=a):c&&(c.textContent+=e),l},u,n.config.typingSpeed).then(function(){return n.writeToAndScrollDisplay("\n"),i?i.textContent+="\n":c&&(c.textContent+="\n"),l})},s).then(function(){return i=null,o=null,a="",c=null,Promise.resolve()})})},e.DIR_RE=/^\s*---\s*([a-z0-9|\-|_|\.|#|:]+)?/i,e.SEL_RE=/^([a-z0-9|\-|_]+)?((\.|#)([a-z0-9|\-|_]+))?$/i,e.DEFAULT_CONFIG={displayClass:"live-coder__display",defaultContainer:"default-container",typingSpeed:50},e}();t.Coder=i},function(e,t,n){"use strict";function r(e,t,n){var r=new o.Deferred,i=function(){t()?e().then(function(){n?setTimeout(i,n):i()}).catch(function(){return r.reject()}):r.resolve()};return i(),r.promise}function i(e,t,n){var i=0,o=t.length,a=function(){return i<o},c=function(){var n=t[i],r=e(n);return i++,r};return r(c,a,n)}var o=n(2);t.asyncLoop=r,t.asyncForOf=i},function(e,t){"use strict";var n=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e}();t.Deferred=n}]);
//# sourceMappingURL=live-coder.min.js.map