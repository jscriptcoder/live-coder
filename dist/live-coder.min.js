var Live=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1);!function(e){e[e.READY=0]="READY",e[e.RUNNING=1]="RUNNING",e[e.PAUSED=2]="PAUSED",e[e.DONE=3]="DONE"}(t.CoderState||(t.CoderState={}));var i=t.CoderState,o=function(){function e(t){var n=this;void 0===t&&(t={}),this.config=Object.assign({},e.DEFAULT_CONFIG,t),this.domReady=r.waitForDom(),this.domReady.then(function(){n.$runner=document.getElementsByTagName("head")[0]||document.body,n.$defContainer=n.createElement(n.config.defaultContainer),n.$body=document.body,n.$display=n.createDisplay(),n.state=i.READY})}return e.isElementAttached=function(e){return!!e.parentElement},e.appendIfApply=function(t,n,r){t&&n&&"apply"===t.toLowerCase()&&!e.isElementAttached(n)&&r&&r.appendChild(n)},e.prototype.createElement=function(e,t,n){void 0===t&&(t={});for(var r=document.createElement(e),i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];r[a]=t[a]}return n&&n.appendChild(r),r},e.prototype.createDisplay=function(){return this.createElement("pre",{className:this.config.displayClass},document.body)},e.prototype.createStyle=function(e){return void 0===e&&(e="text/css"),this.createElement("style",{type:e})},e.prototype.createScript=function(e){return void 0===e&&(e="text/javascript"),this.createElement("script",{type:e})},e.prototype.writeAndScrollDisplay=function(e){this.$display.textContent+=e,this.$display.scrollTop=this.$display.scrollHeight},e.prototype.run=function(t){var n=this;return void 0===t&&(t=""),this.domReady.then(function(){n.state=i.RUNNING;var o,a,c,s,l=t.trim().split("\n");return r.asyncForOf(function(t){var i,l=Promise.resolve(),p=t.split(""),u=t.match(e.DIR_RE);return i=u?r.asyncForOf(function(e){return n.writeAndScrollDisplay(e),l},p,n.config.typingSpeed).then(function(){n.$display.textContent+="\n";var t=u[1].split(":"),r=t[0],i=t.slice(1);switch(r.toLowerCase()){case"css":s=null,a=null,c="",o=n.createStyle(),e.appendIfApply(i[0],o,n.$runner);break;case"js":o=null,a=null,c="",s=n.createScript();break;case"html":if(s=null,o=null,c="",i[0]){var p=i[0],d=i[1];"apply"===p.toLowerCase()&&(E=[d||"",p],p=E[0],d=E[1]);var f=p.match(e.SEL_RE);if(p&&f){if(a=document.querySelector(p),!a){var y=[f[1]||"div",f[3],f[4]],h=y[0],m=y[1],v=y[2];if(a=n.createElement(h),m&&v)switch(m){case".":a.className=v;break;case"#":a.id=v}e.appendIfApply(d,a,n.$body)}}else a=n.$defContainer,e.appendIfApply(d,a,n.$body)}a=a||n.$defContainer,c=a.innerHTML;break;case"apply":o&&!e.isElementAttached(o)?(n.$runner.appendChild(o),o=n.createStyle()):a&&!e.isElementAttached(a)?n.$body.appendChild(a):s&&!e.isElementAttached(s)&&(n.$runner.appendChild(s),s=n.createScript());break;case"await":case"promise":window[i[0]]instanceof Promise&&(l=window[i[0]])}return l;var E}):r.asyncForOf(function(e){return n.writeAndScrollDisplay(e),o?o.textContent+=e:a?(c+=e,a.innerHTML=c):s&&(s.textContent+=e),l},p,n.config.typingSpeed).then(function(){return n.writeAndScrollDisplay("\n"),o?o.textContent+="\n":s&&(s.textContent+="\n"),l})},l).then(function(){return o=null,a=null,c="",s=null,n.state=i.DONE,Promise.resolve()})})},e.prototype.setTypingSpeed=function(e){this.config.typingSpeed=e},e.prototype.pause=function(){this.state=i.PAUSED},e.prototype.resume=function(){this.state=i.RUNNING},e.DIR_RE=/^\s*---\s*([a-z0-9|\-|_|\.|#|:]+)?/i,e.SEL_RE=/^([a-z0-9|\-|_]+)?((\.|#)([a-z0-9|\-|_]+))?$/i,e.DEFAULT_CONFIG={displayClass:"live-coder__display",defaultContainer:"default-container",typingSpeed:50},e}();t.Coder=o},function(e,t,n){"use strict";function r(e,t,n){var r=new a.Deferred,i=function(){t()?e().then(function(){n?setTimeout(i,n):i()}).catch(function(){return r.reject()}):r.resolve()};return i(),r.promise}function i(e,t,n){var i=0,o=t.length,a=function(){return i<o},c=function(){var n=t[i],r=e(n);return i++,r};return r(c,a,n)}function o(){return new Promise(function(e){document.addEventListener("DOMContentLoaded",function(){return e()})})}var a=n(2);t.asyncLoop=r,t.asyncForOf=i,t.waitForDom=o},function(e,t){"use strict";var n=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e}();t.Deferred=n}]);
//# sourceMappingURL=live-coder.min.js.map